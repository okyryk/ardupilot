include ../Pixhawk6X/hwdef-bl.dat

# setup build for a peripheral bootloader
env AP_PERIPH 1

# board ID for firmware load
APJ_BOARD_ID AP_HW_PIXHAWK6X_PERIPH

# CAN bus
PD0  CAN1_RX CAN1
PD1  CAN1_TX CAN1

PB12 CAN2_RX CAN2
PB13 CAN2_TX CAN2

PC1 ETH_MDC              ETH1
PA2 ETH_MDIO             ETH1
PC4 ETH_RMII_RXD0        ETH1
PC5 ETH_RMII_RXD1        ETH1
PG13 ETH_RMII_TXD0       ETH1
PG12 ETH_RMII_TXD1       ETH1
PB11 ETH_RMII_TX_EN      ETH1
PA7 ETH_RMII_CRS_DV      ETH1
PA1 ETH_RMII_REF_CLK     ETH1

PG15 Ethernet_PWR_EN OUTPUT HIGH # disable power on ethernet

define BOARD_PHY_ID  MII_LAN8742A_ID
define BOARD_PHY_RMII

define CH_CFG_USE_EVENTS 1
undef CH_CFG_USE_SEMAPHORES
define CH_CFG_USE_SEMAPHORES 1

SERIAL_ORDER OTG1

ROMFS_WILDCARD Tools/AP_Bootloader/Web/*.html
env ROMFS_UNCOMPRESSED True
